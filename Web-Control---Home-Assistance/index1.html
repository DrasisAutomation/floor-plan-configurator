<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Home Automation</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Your existing HTML structure remains the same -->
    <div class="header">
        <button class="edit-btn" id="editBtn">‚úé Edit</button>
        <button class="header-control save-btn" id="saveBtn">üíæ Save</button>
        <button id="clearAllBtn" class="header-control clear-all-btn"
            title="Clear all buttons, entities, and local storage">üóëÔ∏è Clear</button>
        <div class="edit-controls" id="editControls">
            <div class="range-control">
                <label for="buttonSize">Size:</label>
                <input type="range" id="buttonSize" min="0.5" max="2" step="0.1" value="1">
                <span class="range-value" id="sizeValue">100%</span>
            </div>

            <div class="range-control">
                <label for="buttonOpacity">Opacity:</label>
                <input type="range" id="buttonOpacity" min="0.5" max="1" step="0.1" value="0.8">
                <span class="range-value" id="opacityValue">80%</span>
            </div>

            <div class="range-control">
                <label for="modalOpacity">Modal:</label>
                <input type="range" id="modalOpacity" min="0.5" max="1" step="0.1" value="0.6">
                <span class="range-value" id="modalValue">60%</span>
            </div>

            <button class="header-control small-btn" id="imageBtn" title="Change Image">
                <i class="fas fa-image"></i>
            </button>
            <button class="header-control small-btn" id="addBtn" title="Add Button">
                <i class="fas fa-plus"></i>
            </button>
        </div>
    </div>

    <div class="content" id="container">
        <div class="viewer-center">
            <div class="pan-layer" id="panLayer">
                <img id="viewImage" src="image.png" alt="floor plan">
            </div>
        </div>
    </div>

    <div class="footer">
        Ready
        <button class="footer-control load-btn" id="loadBtn">üìÇ</button>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="imageFileInput" accept="image/*" style="display: none;">
    <input type="file" id="loadFileInput" accept=".json" style="display: none;">

    <!-- Button Picker Modal -->
    <div class="modal-overlay" id="buttonPickerModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Add Button</h3>
                <button class="modal-close" id="closePickerBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="button-type-list">
                    <div class="button-type-item" data-type="toggle" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>Toggle Light</span>
                        <small>On/Off switch for lights</small>
                    </div>
                    <div class="button-type-item" data-type="sensor" data-icon="temperature.svg">
                        <i class="fas fa-thermometer-half"></i>
                        <span>Sensor</span>
                        <small>Temperature, motion, etc.</small>
                    </div>
                    <div class="button-type-item" data-type="dimmer" data-icon="fa-sliders-h">
                        <i class="fas fa-sliders-h"></i>
                        <span>Dimmer</span>
                        <small>Brightness control</small>
                    </div>
                    <div class="button-type-item" data-type="cct" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>CCT Light</span>
                        <small>Color temperature control</small>
                    </div>
                    <div class="button-type-item" data-type="rgb" data-icon="fa-lightbulb">
                        <i class="fas fa-lightbulb"></i>
                        <span>RGB Light</span>
                        <small>Color and brightness control</small>
                    </div>
                    <div class="button-type-item" data-type="lock" data-icon="lock.svg">
                        <i class="fas fa-lock"></i>
                        <span>Lock</span>
                        <small>Lock/unlock control</small>
                    </div>
                    <div class="button-type-item" data-type="curtain" data-icon="curtain1.svg">
                        <i class="fas fa-blinds"></i>
                        <span>Curtain</span>
                        <small>Position control for curtains</small>
                    </div>
                    <div class="button-type-item" data-type="remote" data-icon="remote.svg">
                        <i class="fas fa-gamepad"></i>
                        <span>Remote</span>
                        <small>Smart remote control</small>
                    </div>

                    <div class="button-type-item" data-type="sensor" data-icon="sensor-presence1.svg">
                        <i class="fas fa-sensor"></i>
                        <span>Sensor</span>
                        <small>Smart remote control</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Button Edit Modal -->
    <div class="modal-overlay" id="buttonEditModal">
        <div class="modal">
            <div class="modal-header">
                <h3>Edit Button</h3>
                <button class="modal-close" id="closeEditBtn">&times;</button>
            </div>
            <div class="modal-body">
                <form id="buttonEditForm">
                    <div class="form-group">
                        <label for="editEntityId">Entity ID:</label>
                        <input type="text" id="editEntityId" required>
                    </div>
                    <div class="form-group">
                        <label for="editName">Name:</label>
                        <input type="text" id="editName">
                    </div>
                    <div class="form-group">
                        <label for="editIcon">Icon:</label>
                        <select id="editIcon">
                            <option value="">Select Icon</option>

                            <!-- AC -->
                            <option value="ac-1.svg">AC 1</option>
                            <option value="ac-2.svg">AC 2</option>
                            <option value="ac-3.svg">AC 3</option>

                            <!-- Alarm & Alerts -->
                            <option value="alarm.svg">Alarm</option>
                            <option value="person-fall-1.svg">Person Fall 1</option>
                            <option value="person-fall-2.svg">Person Fall 2</option>
                            <option value="walk-1.svg">Walk Sensor</option>

                            <!-- Arrows -->
                            <option value="arrow-up.svg">Arrow Up</option>
                            <option value="arrow-up1.svg">Arrow Up 1</option>
                            <option value="arrow-up2.svg">Arrow Up 2</option>
                            <option value="arrow-down.svg">Arrow Down</option>
                            <option value="arrow-down1.svg">Arrow Down 1</option>
                            <option value="arrow-down2.svg">Arrow Down 2</option>
                            <option value="arrow-left.svg">Arrow Left</option>
                            <option value="arrow-left1.svg">Arrow Left 1</option>
                            <option value="arrow-left2.svg">Arrow Left 2</option>
                            <option value="arrow-right.svg">Arrow Right</option>
                            <option value="arrow-right1.svg">Arrow Right 1</option>
                            <option value="arrow-right2.svg">Arrow Right 2</option>

                            <!-- Lighting -->
                            <option value="light-bulb-1.svg">Light Bulb 1</option>
                            <option value="light-bulb-2.svg">Light Bulb 2</option>
                            <option value="light-bulb-3.svg">Light Bulb 3</option>
                            <option value="light-bulb-4.svg">Light Bulb 4</option>
                            <option value="ceiling-light.svg">Ceiling Light</option>
                            <option value="table-light-1.svg">Table Light 1</option>
                            <option value="table-light-2.svg">Table Light 2</option>
                            <option value="chandelier-1.svg">Chandelier 1</option>
                            <option value="chandelier-2.svg">Chandelier 2</option>
                            <option value="chandelier-3.svg">Chandelier 3</option>
                            <option value="candle.svg">Candle</option>

                            <!-- Controls -->
                            <option value="dimmer.svg">Dimmer</option>
                            <option value="dimmer-1.svg">Dimmer 1</option>
                            <option value="dimmer-3.svg">Dimmer 3</option>
                            <option value="fan.svg">Fan</option>
                            <option value="climate.svg">Climate</option>

                            <!-- Doors & Curtains -->
                            <option value="door-opened.svg">Door Opened</option>
                            <option value="door-closed.svg">Door Closed</option>
                            <option value="curtain1.svg">Curtain 1</option>
                            <option value="curtain2.svg">Curtain 2</option>
                            <option value="blind.svg">Blind</option>

                            <!-- Security -->
                            <option value="lock.svg">Lock</option>
                            <option value="lock-open.svg">Lock Open</option>
                            <option value="camera.svg">Camera</option>
                            <option value="sensor-presence1.svg">Presence Sensor 1</option>
                            <option value="sensor-presense.svg">Presence Sensor</option>

                            <!-- Media -->
                            <option value="tv.svg">TV</option>
                            <option value="tv2.svg">TV 2</option>
                            <option value="remote.svg">Remote</option>
                            <option value="remote2.svg">Remote 2</option>
                            <option value="remote4.svg">Remote 4</option>
                            <option value="projector.svg">Projector</option>
                            <option value="hdmi.svg">HDMI</option>

                            <!-- Media Controls -->
                            <option value="play.svg">Play</option>
                            <option value="pause.svg">Pause</option>
                            <option value="stop.svg">Stop</option>
                            <option value="mute.svg">Mute</option>
                            <option value="volume-up.svg">Volume Up</option>
                            <option value="volume-down.svg">Volume Down</option>
                            <option value="volume-min.svg">Volume Min</option>
                            <option value="volume-max.svg">Volume Max</option>
                            <option value="skip-forward1.svg">Skip Forward 1</option>
                            <option value="skip-forward2.svg">Skip Forward 2</option>
                            <option value="skip-backward1.svg">Skip Backward 1</option>
                            <option value="skip-backward2.svg">Skip Backward 2</option>

                            <!-- Streaming -->
                            <option value="youtube.svg">YouTube</option>
                            <option value="netflix.svg">Netflix</option>
                            <option value="prime.svg">Prime Video</option>
                            <option value="hotstar.svg">Hotstar</option>
                            <option value="kodi.svg">Kodi</option>

                            <!-- System -->
                            <option value="home.svg">Home</option>
                            <option value="menu1.svg">Menu 1</option>
                            <option value="menu2.svg">Menu 2</option>
                            <option value="setting1.svg">Settings 1</option>
                            <option value="setting2.svg">Settings 2</option>
                            <option value="reload.svg">Reload</option>
                            <option value="power.svg">Power</option>
                            <option value="ok.svg">OK</option>
                            <option value="back.svg">Back</option>
                            <option value="exit.svg">Exit</option>

                            <!-- Network -->
                            <option value="wifi-on.svg">WiFi On</option>
                            <option value="wifi-off.svg">WiFi Off</option>
                            <option value="bluetooth.svg">Bluetooth</option>
                            <option value="signal.svg">Signal</option>
                            <option value="satellite.svg">Satellite</option>

                            <!-- Misc -->
                            <option value="printer1.svg">Printer 1</option>
                            <option value="printer2.svg">Printer 2</option>
                            <option value="presentation.svg">Presentation</option>
                            <option value="file-search.svg">File Search</option>
                            <option value="info.svg">Info</option>
                            <option value="data.svg">Data</option>
                            <option value="human.svg">Human</option>
                            <option value="navigate.svg">Navigate</option>
                            <option value="drop.svg">Drop</option>
                            <option value="cross.svg">Cross</option>
                            <option value="minus.svg">Minus</option>
                            <option value="remove3.svg">Remove</option>
                            <option value="source.svg">Source</option>
                            <option value="vibrate-on.svg">Vibrate On</option>
                            <option value="vibrate-off.svg">Vibrate Off</option>
                        </select>

                    </div>
                    <!-- Brightness group removed as requested -->
                    <div class="form-actions">
                        <button type="button" class="btn-delete" id="deleteBtn">Delete</button>
                        <button type="submit" class="btn-update">Update</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="svg-icons.js" defer></script>
    <script src="toggle-button.js" defer></script>
    <script src="button.js" defer></script>
    <script src="dimmer.js" defer></script>
    <script src="cct.js" defer></script>
    <script src="rgb.js" defer></script>
    <script src="lock.js" defer></script>
    <script src="curtain.js" defer></script>
    <script src="remote.js" defer></script>
    <script src="sensor.js" defer></script>
    <script src="main1.js" defer></script>
</body>

</html>